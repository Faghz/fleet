-- migrate:up

-- Insert current vehicle locations (one per vehicle)
INSERT INTO public.vehicle_location (entity_id, vehicle_entity_id, latitude, longitude, timestamp, created_at) VALUES
('660e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', -6.2087634, 106.845599, 1730000000, CURRENT_TIMESTAMP),
('660e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440002', -7.7956, 110.3695, 1730000000, CURRENT_TIMESTAMP),
('660e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440003', -6.9175, 107.6191, 1730000000, CURRENT_TIMESTAMP),
('660e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440004', -6.1751, 106.8227, 1730000000, CURRENT_TIMESTAMP),
('660e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440005', -7.7956, 110.3695, 1730000000, CURRENT_TIMESTAMP)
ON CONFLICT (vehicle_entity_id) DO UPDATE SET
    latitude = EXCLUDED.latitude,
    longitude = EXCLUDED.longitude,
    timestamp = EXCLUDED.timestamp,
    updated_at = CURRENT_TIMESTAMP;

-- Insert historical vehicle locations (multiple entries per vehicle)
INSERT INTO public.vehicle_location_history (entity_id, vehicle_entity_id, latitude, longitude, timestamp, created_at) VALUES
-- Vehicle 1 history
('770e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', -6.2087634, 106.845599, 1729000000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', -6.2100000, 106.850000, 1729100000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440001', -6.2050000, 106.840000, 1729200000, CURRENT_TIMESTAMP),
-- Vehicle 2 history
('770e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440002', -7.7956, 110.3695, 1729000000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440002', -7.8000, 110.3700, 1729100000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440006', '550e8400-e29b-41d4-a716-446655440002', -7.7900, 110.3650, 1729200000, CURRENT_TIMESTAMP),
-- Vehicle 3 history
('770e8400-e29b-41d4-a716-446655440007', '550e8400-e29b-41d4-a716-446655440003', -6.9175, 107.6191, 1729000000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440008', '550e8400-e29b-41d4-a716-446655440003', -6.9200, 107.6200, 1729100000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440009', '550e8400-e29b-41d4-a716-446655440003', -6.9150, 107.6150, 1729200000, CURRENT_TIMESTAMP),
-- Vehicle 4 history
('770e8400-e29b-41d4-a716-446655440010', '550e8400-e29b-41d4-a716-446655440004', -6.1751, 106.8227, 1729000000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440011', '550e8400-e29b-41d4-a716-446655440004', -6.1800, 106.8250, 1729100000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440012', '550e8400-e29b-41d4-a716-446655440004', -6.1700, 106.8200, 1729200000, CURRENT_TIMESTAMP),
-- Vehicle 5 history
('770e8400-e29b-41d4-a716-446655440013', '550e8400-e29b-41d4-a716-446655440005', -7.7956, 110.3695, 1729000000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440014', '550e8400-e29b-41d4-a716-446655440005', -7.8000, 110.3700, 1729100000, CURRENT_TIMESTAMP),
('770e8400-e29b-41d4-a716-446655440015', '550e8400-e29b-41d4-a716-446655440005', -7.7900, 110.3650, 1729200000, CURRENT_TIMESTAMP)
ON CONFLICT (entity_id) DO UPDATE SET
    latitude = EXCLUDED.latitude,
    longitude = EXCLUDED.longitude,
    timestamp = EXCLUDED.timestamp,
    updated_at = CURRENT_TIMESTAMP;

-- migrate:down

-- Remove current vehicle locations
DELETE FROM public.vehicle_location WHERE entity_id IN (
    '660e8400-e29b-41d4-a716-446655440001',
    '660e8400-e29b-41d4-a716-446655440002',
    '660e8400-e29b-41d4-a716-446655440003',
    '660e8400-e29b-41d4-a716-446655440004',
    '660e8400-e29b-41d4-a716-446655440005'
);

-- Remove historical vehicle locations
DELETE FROM public.vehicle_location_history WHERE entity_id IN (
    '770e8400-e29b-41d4-a716-446655440001',
    '770e8400-e29b-41d4-a716-446655440002',
    '770e8400-e29b-41d4-a716-446655440003',
    '770e8400-e29b-41d4-a716-446655440004',
    '770e8400-e29b-41d4-a716-446655440005',
    '770e8400-e29b-41d4-a716-446655440006',
    '770e8400-e29b-41d4-a716-446655440007',
    '770e8400-e29b-41d4-a716-446655440008',
    '770e8400-e29b-41d4-a716-446655440009',
    '770e8400-e29b-41d4-a716-446655440010',
    '770e8400-e29b-41d4-a716-446655440011',
    '770e8400-e29b-41d4-a716-446655440012',
    '770e8400-e29b-41d4-a716-446655440013',
    '770e8400-e29b-41d4-a716-446655440014',
    '770e8400-e29b-41d4-a716-446655440015'
);